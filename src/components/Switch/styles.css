:root {
  --switch-width: 2.25rem;
  --switch-height: 1.25rem;
  --switch-border-radius: 0.75rem;
  --switch-spacing: 0.125rem;
  --switch-background: var(--color-grey-light);
  --switch-thumb-width: calc(var(--switch-height) - var(--switch-spacing) * 2);
}

.switch {
  position: relative;
  display: inline-flex;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.switch input {
  @mixin transition;

  position: relative;
  display: inline-block;
  width: var(--switch-width);
  height: var(--switch-height);
  line-height: 1;
  cursor: pointer;
  background: var(--switch-background);
  border-radius: var(--switch-border-radius);
  transition-property: box-shadow;
}

.switch input::after {
  display: block;
  content: '';
  background: var(--color-white);
  border-radius: var(--switch-border-radius);
  box-shadow: 0 2px 4px var(--color-line-grey);
}

.switch input::after,
.switch .loading {
  @mixin transition;

  position: absolute;
  top: var(--switch-spacing);
  left: 0;
  width: var(--switch-thumb-width);
  height: var(--switch-thumb-width);
  transition-property: transform;
  transform: translateX(var(--switch-spacing));
}

.switch .loading :global(svg) {
  position: absolute;
  top: 0;
  left: 0;
}

.switch input:checked {
  box-shadow: inset 0 0 0 var(--switch-height) var(--color-matters-green);
}

.switch input:checked::after,
.switch input:checked + span + .loading {
  transform: translateX(
    calc(
      var(--switch-width) - var(--switch-thumb-width) - var(--switch-spacing)
    )
  );
}

.switch:hover::after,
.switch:focus::after {
  box-shadow: 0 2px 4px var(--color-line-grey-dark);
}
