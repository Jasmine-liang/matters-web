"use strict";(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[707],{"./src/components/Dialog/Dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Dialog_Dialog});var helpers_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/extends.js"),extends_default=__webpack_require__.n(helpers_extends),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),slicedToArray_default=__webpack_require__.n(slicedToArray),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),defineProperty_default=__webpack_require__.n(defineProperty),styled_jsx=__webpack_require__("./node_modules/next/dist/shared/lib/styled-jsx.js"),styled_jsx_default=__webpack_require__.n(styled_jsx),react=__webpack_require__("./node_modules/react/index.js"),reach_dialog_esm=__webpack_require__("./node_modules/@reach/dialog/dist/reach-dialog.esm.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),get=__webpack_require__("./node_modules/lodash/get.js"),get_default=__webpack_require__.n(get),react_spring_esm=__webpack_require__("./node_modules/react-spring/dist/react-spring.esm.js"),reactusegesture_esm=__webpack_require__("./node_modules/react-use-gesture/dist/reactusegesture.esm.js"),useResponsive=__webpack_require__("./src/components/Hook/useResponsive.ts"),useOutsideClick=__webpack_require__("./src/components/Hook/useOutsideClick.ts"),keyCodes=__webpack_require__("./src/common/enums/keyCodes.ts"),dom=__webpack_require__("./src/common/utils/dom.ts"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),LanguageContext=__webpack_require__("./src/components/Context/Language/LanguageContext.tsx"),translate=__webpack_require__("./src/common/utils/translate.ts"),styles=[".overlay.jsx-2754959688{position:absolute;top:0;right:0;bottom:0;left:0;content:'';background:rgba(0,0,0,0.25);will-change:opacity;}",".container.jsx-2754959688{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-height:80vh;max-height:calc(var(--vh)*90);background:#fff;border-radius:0.5rem 0.5rem 0 0;will-change:transform,top;}",".container.jsx-2754959688::before{position:absolute;top:100%;right:0;left:0;height:300vh;content:'';background:#fff;}",".container.fixed-height.jsx-2754959688{height:80vh;height:calc(var(--vh)*90);}","@media (min-width:768px){.container.jsx-2754959688{border-radius:0.5rem;will-change:opacity;}.container.jsx-2754959688::before{display:none;}.container.no-header.jsx-2754959688{padding-top:0;}.container.fixed-height.jsx-2754959688{height:auto;}}",".container.sm.jsx-2754959688{grid-column:1 / -1;}","@media (min-width:768px){.container.sm.jsx-2754959688{grid-column:col-start 3 / span 4;}}","@media (min-width:1024px){.container.sm.jsx-2754959688{grid-column:col-start 3 / span 5;}}","@media (min-width:1280px){.container.sm.jsx-2754959688{grid-column:col-start 5 / span 4;}}",".container.lg.jsx-2754959688{grid-column:1 / -1;}","@media (min-width:768px){.container.lg.jsx-2754959688{grid-column:col-start 2 / span 6;}}","@media (min-width:1024px){.container.lg.jsx-2754959688{grid-column:col-start 3 / span 5;}}","@media (min-width:1280px){.container.lg.jsx-2754959688{grid-column:col-start 4 / span 6;}}",".handle.jsx-2754959688{position:absolute;top:0;left:50%;padding:0.5rem;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}",".handle.jsx-2754959688 .icon.jsx-2754959688{display:inline-block;width:3rem;height:0.375rem;background:#f7f7f7;border-radius:0.5rem;}"];styles.__hash="2754959688";const Dialog_styles=styles;var _excluded=["closeDialog"],__jsx=react.createElement;const Dialog_Handle=function Handle(_ref){var closeDialog=_ref.closeDialog,props=objectWithoutProperties_default()(_ref,_excluded),lang=(0,react.useContext)(LanguageContext.AZ).lang;return __jsx("button",extends_default()({type:"button","aria-label":(0,translate.I)({id:"close",lang}),onClick:closeDialog},props,{className:"jsx-".concat(Dialog_styles.__hash)+" "+(props&&null!=props.className&&props.className||"handle")}),__jsx("span",{className:"jsx-".concat(Dialog_styles.__hash)+" icon"}),__jsx(styled_jsx_default(),{id:Dialog_styles.__hash},Dialog_styles))};var Overlay_jsx=react.createElement;const Dialog_Overlay=function Overlay(props){return Overlay_jsx("div",extends_default()({"aria-hidden":!0},props,{className:"jsx-".concat(Dialog_styles.__hash)+" "+(props&&null!=props.className&&props.className||"overlay")}),Overlay_jsx(styled_jsx_default(),{id:Dialog_styles.__hash},Dialog_styles))};var styles_global_styles=[".dialog[data-reach-dialog-overlay]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:200;overflow:hidden;}","@media (min-width:768px){.dialog[data-reach-dialog-overlay]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}",".dialog [data-reach-dialog-content]{position:absolute;right:0;bottom:0;left:0;outline:none;}","@media (min-width:768px){.dialog [data-reach-dialog-content]{position:relative;right:auto;bottom:auto;left:auto;width:100%;}}"];styles_global_styles.__hash="530637901";const styles_global=styles_global_styles;var Dialog_jsx=react.createElement,Container=function Container(_ref){var _ref$size=_ref.size,size=void 0===_ref$size?"lg":_ref$size,fixedHeight=_ref.fixedHeight,onDismiss=_ref.onDismiss,children=_ref.children,style=_ref.style,setDragGoal=_ref.setDragGoal,isSmallUp=(0,useResponsive.F)("sm-up"),node=(0,react.useRef)(null),containerClasses=classnames_default()(defineProperty_default()({container:!0,"fixed-height":!!fixedHeight},size,!0)),closeTopDialog=function closeTopDialog(){var dialogs=Array.prototype.slice.call(dom.v.$$("[data-reach-dialog-overlay]")),topDialog=dialogs[dialogs.length-1];topDialog&&node.current&&topDialog.contains(node.current)&&onDismiss()},bind=(0,reactusegesture_esm.c0)((function(_ref2){var down=_ref2.down,my=slicedToArray_default()(_ref2.movement,2)[1];!down&&my>30?onDismiss():setDragGoal({top:down?Math.max(my,-30):0})}));return(0,useOutsideClick.O)(node,closeTopDialog),Dialog_jsx("div",{className:"l-row"},Dialog_jsx("div",{ref:node,style,onKeyDown:function onKeyDown(event){event.keyCode===keyCodes.g.escape&&closeTopDialog()},className:"jsx-".concat(Dialog_styles.__hash)+" "+(containerClasses||"")},children,!isSmallUp&&Dialog_jsx(Dialog_Handle,extends_default()({closeDialog:onDismiss},bind())),Dialog_jsx(styled_jsx_default(),{id:Dialog_styles.__hash},Dialog_styles)))};const Dialog_Dialog=function Dialog(props){var isOpen=props.isOpen,_onRest=props.onRest,slideIn=props.slideIn,_useState=(0,react.useState)(isOpen),mounted=_useState[0],setMounted=_useState[1],isSmallUp=(0,useResponsive.F)("sm-up"),_useSpring=(0,react_spring_esm.useSpring)((function(){return{top:0}})),_useSpring2=slicedToArray_default()(_useSpring,2),top=_useSpring2[0].top,setDragGoal=_useSpring2[1],_useSpring3=(0,react_spring_esm.useSpring)((function(){return{opacity:0,transform:"translateY(100%)",config:{tension:270,friction:isSmallUp?void 0:30},onRest:function onRest(val){get_default()(val,"value.opacity")<=0&&(setMounted(!1),setDragGoal({top:0})),_onRest&&_onRest()}}})),_useSpring4=slicedToArray_default()(_useSpring3,2),_useSpring4$=_useSpring4[0],opacity=_useSpring4$.opacity,transform=_useSpring4$.transform,setFade=_useSpring4[1];(0,react.useEffect)((function(){isOpen?(setMounted(!0),setFade({opacity:1,transform:"translateY(0%)"})):setFade({opacity:0,transform:"translateY(100%)"})}));var AnimatedDialogOverlay=(0,react_spring_esm.animated)(reach_dialog_esm.t9),AnimatedContainer=(0,react_spring_esm.animated)(Container),AnimatedOverlay=(0,react_spring_esm.animated)(Dialog_Overlay);return mounted?Dialog_jsx(react.Fragment,null,Dialog_jsx(AnimatedDialogOverlay,{className:"dialog"},Dialog_jsx(AnimatedOverlay,{style:{opacity}}),Dialog_jsx(reach_dialog_esm.cZ,{className:"l-container full","aria-labelledby":"dialog-title"},Dialog_jsx(AnimatedContainer,extends_default()({style:{transform:!isSmallUp&&slideIn?transform:void 0,opacity:isSmallUp||!slideIn?opacity:void 0,top:isSmallUp?void 0:top},setDragGoal},props)))),Dialog_jsx(styled_jsx_default(),{id:styles_global.__hash},styles_global)):null}}}]);